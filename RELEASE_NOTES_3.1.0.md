# ğŸš€ MySQL MCP Server v3.1.0 å‘å¸ƒè¯´æ˜

å‘å¸ƒæ—¥æœŸ: 2025-10-20

## ğŸ“‹ ç‰ˆæœ¬ä¿¡æ¯

- **ç‰ˆæœ¬å·**: 3.1.0
- **ç±»å‹**: åŠŸèƒ½æ›´æ–° (Minor Release)
- **å…¼å®¹æ€§**: å®Œå…¨å‘åå…¼å®¹ v3.0.x

---

## ğŸ†• æ–°å¢åŠŸèƒ½

### 1. ğŸŒ StreamableHTTP æ¨¡å¼æ”¯æŒ

å…¨æ–°çš„ HTTP æœåŠ¡å™¨éƒ¨ç½²æ¨¡å¼ï¼Œæ”¯æŒè¿œç¨‹è®¿é—®å’Œå¤šç”¨æˆ·åœºæ™¯ï¼š

```bash
# å¯åŠ¨ HTTP æœåŠ¡å™¨
npm run start:http

# æœåŠ¡è¿è¡Œåœ¨ http://localhost:3000/mcp
```

**ç‰¹æ€§ï¼š**
- âœ… åŸºäº Express.js çš„ç¨³å®š HTTP æœåŠ¡å™¨
- âœ… æ”¯æŒ JSON-RPC 2.0 åè®®
- âœ… ä¼šè¯ç®¡ç†å’ŒçŠ¶æ€ç»´æŠ¤
- âœ… CORS æ”¯æŒï¼Œå…è®¸è·¨åŸŸè®¿é—®
- âœ… å¥åº·æ£€æŸ¥ç«¯ç‚¹ `/health`

### 2. ğŸ” HTTP Headers é¢„é…ç½®æ•°æ®åº“è¿æ¥

**æœ€å¤§çš„å®‰å…¨æ”¹è¿›**ï¼šé€šè¿‡ HTTP Headers é¢„å…ˆé…ç½®æ•°æ®åº“è¿æ¥ä¿¡æ¯ï¼Œ**å‡­è¯ä¸ä¼šæš´éœ²ç»™ AI**ï¼

#### é…ç½®ç¤ºä¾‹

```json
{
  "mcpServers": {
    "mysql-mcp-http": {
      "type": "streamableHttp",
      "url": "http://localhost:3000/mcp",
      "headers": {
        "X-MySQL-Host": "localhost",
        "X-MySQL-Port": "3306",
        "X-MySQL-User": "your_username",
        "X-MySQL-Password": "your_password",
        "X-MySQL-Database": "your_database"
      }
    }
  }
}
```

**ä¼˜ç‚¹ï¼š**
- ğŸ” æ•°æ®åº“å¯†ç ä¸ä¼šåœ¨å¯¹è¯ä¸­å‡ºç°
- ğŸš€ è‡ªåŠ¨å»ºç«‹è¿æ¥ï¼Œå¼€ç®±å³ç”¨
- ğŸ›¡ï¸ æ›´å®‰å…¨çš„ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
- ğŸ“¦ é€‚åˆå¤šç”¨æˆ·å’Œè¿œç¨‹è®¿é—®åœºæ™¯

### 3. ğŸ·ï¸ è¿æ¥æ¥æºæ ‡è¯†

`list_connections` å·¥å…·ç°åœ¨ä¼šæ˜¾ç¤ºè¿æ¥æ¥æºï¼š

```
1. ğŸ”— header_connection_abc123 ğŸ”(Headeré¢„é…ç½®) ğŸ¯(æ´»è·ƒ)
   ğŸ“ ä¸»æœº: localhost:3306
   ğŸ—„ï¸ æ•°æ®åº“: production_db

2. ğŸ”— localhost_test_1729401 ğŸ”§(å·¥å…·å‚æ•°)
   ğŸ“ ä¸»æœº: localhost:3306
   ğŸ—„ï¸ æ•°æ®åº“: test_db
```

æ¸…æ¥šåœ°åŒºåˆ†ï¼š
- ğŸ” **Headeré¢„é…ç½®**: é€šè¿‡ HTTP Headers è‡ªåŠ¨åˆ›å»ºçš„è¿æ¥
- ğŸ”§ **å·¥å…·å‚æ•°**: é€šè¿‡ `connect_database` å·¥å…·åˆ›å»ºçš„è¿æ¥

### 4. ğŸ“¡ å¥åº·æ£€æŸ¥ç«¯ç‚¹

HTTP æ¨¡å¼æä¾›å¥åº·æ£€æŸ¥ç«¯ç‚¹ç”¨äºç›‘æ§ï¼š

```bash
curl http://localhost:3000/health
```

**å“åº”ï¼š**
```json
{
  "status": "healthy",
  "transport": "streamable-http",
  "activeSessions": 2,
  "version": "3.1.0"
}
```

---

## ğŸ”§ æŠ€æœ¯æ”¹è¿›

### ä¾èµ–æ›´æ–°

æ–°å¢ä»¥ä¸‹ä¾èµ–æ”¯æŒ HTTP æ¨¡å¼ï¼š

```json
{
  "express": "^4.19.2",
  "cors": "^2.8.5",
  "dotenv": "^16.3.1",
  "@types/express": "^4.17.21",
  "@types/cors": "^2.8.17"
}
```

### æ–°å¢è„šæœ¬å‘½ä»¤

```json
{
  "dev:http": "å¯åŠ¨ HTTP å¼€å‘æœåŠ¡å™¨",
  "start:stdio": "å¯åŠ¨ stdio æ¨¡å¼",
  "start:http": "å¯åŠ¨ HTTP æ¨¡å¼"
}
```

### æ–°å¢å¯æ‰§è¡Œæ–‡ä»¶

```json
{
  "bin": {
    "guangxiang-mysql-mcp": "dist/index.js",
    "guangxiang-mysql-mcp-http": "dist/httpServer.js"
  }
}
```

---

## ğŸ“š æ–‡æ¡£æ›´æ–°

### æ–°å¢æ–‡æ¡£

1. **HTTP_CONFIG_EXAMPLE.md** - è¯¦ç»†çš„ HTTP æ¨¡å¼é…ç½®æŒ‡å—
   - StreamableHTTP éƒ¨ç½²è¯´æ˜
   - Header é¢„é…ç½®è¯¦è§£
   - å®¢æˆ·ç«¯é…ç½®ç¤ºä¾‹
   - å®‰å…¨å»ºè®®
   - æ•…éšœæ’é™¤

2. **test-http-connection.js** - HTTP æ¨¡å¼æµ‹è¯•è„šæœ¬
   - è‡ªåŠ¨åŒ–æµ‹è¯•å¥åº·æ£€æŸ¥
   - æµ‹è¯•ä¼šè¯åˆå§‹åŒ–
   - æµ‹è¯• Header é¢„é…ç½®è¿æ¥
   - éªŒè¯å·¥å…·åˆ—è¡¨

3. **.env.example** - ç¯å¢ƒå˜é‡ç¤ºä¾‹

### æ›´æ–°æ–‡æ¡£

- **README.md** - é‡å†™ä¸»æ–‡æ¡£ï¼Œçªå‡º v3.1 æ–°ç‰¹æ€§
- **package.json** - æ›´æ–°ç‰ˆæœ¬å·å’Œè„šæœ¬å‘½ä»¤

---

## ğŸ”„ å…¼å®¹æ€§è¯´æ˜

### âœ… å®Œå…¨å‘åå…¼å®¹

æ‰€æœ‰ v3.0.x çš„åŠŸèƒ½å’Œé…ç½®åœ¨ v3.1.0 ä¸­ç»§ç»­å·¥ä½œï¼š

```json
// v3.0.x é…ç½®ï¼ˆç»§ç»­æœ‰æ•ˆï¼‰
{
  "mcpServers": {
    "mysql-database": {
      "command": "guangxiang-mysql-mcp",
      "env": {}
    }
  }
}
```

### ğŸ†• æ–°å¢å¯é€‰åŠŸèƒ½

HTTP æ¨¡å¼æ˜¯**å¯é€‰çš„**æ–°åŠŸèƒ½ï¼Œä¸å½±å“ç°æœ‰ stdio æ¨¡å¼ç”¨æˆ·ã€‚

---

## ğŸ“¦ å®‰è£…ä¸å‡çº§

### å…¨å±€å‡çº§

```bash
npm install -g @xingyuchen/mysql-mcp-server@3.1.0
```

### ä»æºç å‡çº§

```bash
cd MySQL_MCP
git pull origin master
npm install
npm run build
```

### éªŒè¯å®‰è£…

```bash
# æ£€æŸ¥ç‰ˆæœ¬
guangxiang-mysql-mcp --version  # åº”æ˜¾ç¤º 3.1.0

# æµ‹è¯• stdio æ¨¡å¼
guangxiang-mysql-mcp

# æµ‹è¯• HTTP æ¨¡å¼
npm run start:http
```

---

## ğŸ¯ ä½¿ç”¨å»ºè®®

### é€‰æ‹©éƒ¨ç½²æ¨¡å¼

| åœºæ™¯ | æ¨èæ¨¡å¼ | åŸå›  |
|-----|---------|------|
| æœ¬åœ°å¼€å‘ | stdio æ¨¡å¼ | ç®€å•å¿«é€Ÿï¼Œé›¶é…ç½® |
| ç”Ÿäº§ç¯å¢ƒ | HTTP + Header é¢„é…ç½® | å®‰å…¨æ€§é«˜ï¼Œå‡­è¯ä¸æš´éœ² |
| å¤šç”¨æˆ·åœºæ™¯ | HTTP æ¨¡å¼ | æ”¯æŒå¹¶å‘è®¿é—® |
| è¿œç¨‹è®¿é—® | HTTP æ¨¡å¼ | å¯é€šè¿‡ç½‘ç»œè®¿é—® |
| å¿«é€Ÿæµ‹è¯• | stdio æ¨¡å¼ | å³è£…å³ç”¨ |

### è¿ç§»å»ºè®®

#### ä» stdio è¿ç§»åˆ° HTTP æ¨¡å¼

**æ­¥éª¤1**: å¯åŠ¨ HTTP æœåŠ¡å™¨

```bash
npm run start:http
```

**æ­¥éª¤2**: æ›´æ–°å®¢æˆ·ç«¯é…ç½®

```json
{
  "mcpServers": {
    "mysql-mcp-http": {
      "type": "streamableHttp",
      "url": "http://localhost:3000/mcp",
      "headers": {
        "X-MySQL-Host": "your_host",
        "X-MySQL-User": "your_user",
        "X-MySQL-Password": "your_password",
        "X-MySQL-Database": "your_database"
      }
    }
  }
}
```

**æ­¥éª¤3**: é‡å¯å®¢æˆ·ç«¯ï¼Œäº«å—æ›´å®‰å…¨çš„è¿æ¥æ–¹å¼ï¼

---

## ğŸ› å·²çŸ¥é—®é¢˜

### 1. Windows æ–‡ä»¶æƒé™

åœ¨ Windows ä¸Šï¼Œæ„å»ºè„šæœ¬ä¸­çš„ `chmodSync` å¯èƒ½ä¼šé™é»˜å¤±è´¥ï¼Œä½†ä¸å½±å“åŠŸèƒ½ã€‚

**è§£å†³æ–¹æ¡ˆ**: è¿™æ˜¯é¢„æœŸè¡Œä¸ºï¼ŒWindows ä¸éœ€è¦æ–‡ä»¶æƒé™è®¾ç½®ã€‚

### 2. HTTP æ¨¡å¼ç«¯å£å ç”¨

å¦‚æœç«¯å£ 3000 è¢«å ç”¨ï¼ŒæœåŠ¡å™¨å°†æ— æ³•å¯åŠ¨ã€‚

**è§£å†³æ–¹æ¡ˆ**: ä½¿ç”¨ç¯å¢ƒå˜é‡æŒ‡å®šå…¶ä»–ç«¯å£ï¼š
```bash
PORT=3001 npm run start:http
```

---

## ğŸ”® æœªæ¥è®¡åˆ’

### v3.2.0 è®¡åˆ’åŠŸèƒ½

- ğŸ”‘ æ”¯æŒæ›´å¤šè®¤è¯æ–¹å¼ï¼ˆBearer Tokenã€API Keyï¼‰
- ğŸ“Š WebSocket æ”¯æŒï¼Œå®ç°å®æ—¶æ¨é€
- ğŸ¨ è¿æ¥æ± ç®¡ç†å’Œä¼˜åŒ–
- ğŸ“ˆ æ€§èƒ½ç›‘æ§å’Œç»Ÿè®¡
- ğŸ³ Docker é•œåƒå’Œ Docker Compose é…ç½®

### é•¿æœŸè·¯çº¿å›¾

- ğŸŒ æ”¯æŒå…¶ä»–æ•°æ®åº“ï¼ˆPostgreSQLã€MongoDBï¼‰
- ğŸ” ç«¯åˆ°ç«¯åŠ å¯†
- ğŸ‘¥ å¤šç”¨æˆ·æƒé™ç®¡ç†
- ğŸ“± Web ç®¡ç†ç•Œé¢

---

## ğŸ’¬ åé¦ˆä¸æ”¯æŒ

é‡åˆ°é—®é¢˜æˆ–æœ‰å»ºè®®ï¼Ÿæ¬¢è¿è”ç³»ï¼š

- ğŸ› **Bug æŠ¥å‘Š**: [GitHub Issues](https://github.com/guangxiangdebizi/MySQL_MCP/issues)
- ğŸ’¡ **åŠŸèƒ½è¯·æ±‚**: [GitHub Discussions](https://github.com/guangxiangdebizi/MySQL_MCP/discussions)
- ğŸ“§ **Email**: guangxiangdebizi@gmail.com
- ğŸ’¼ **LinkedIn**: [Xingyu Chen](https://www.linkedin.com/in/xingyu-chen-b5b3b0313/)

---

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä½¿ç”¨å’Œæ”¯æŒ MySQL MCP Server çš„ç”¨æˆ·ï¼ä½ ä»¬çš„åé¦ˆå’Œå»ºè®®è®©é¡¹ç›®ä¸æ–­æ”¹è¿›ã€‚

ç‰¹åˆ«æ„Ÿè°¢ï¼š
- Model Context Protocol å›¢é˜Ÿæä¾›çš„ä¼˜ç§€æ¡†æ¶
- Express.js ç¤¾åŒº
- æ‰€æœ‰æå‡ºé—®é¢˜å’Œå»ºè®®çš„ç”¨æˆ·

---

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª Star æ”¯æŒä¸€ä¸‹ï¼**

[â¬†ï¸ è¿”å›é¡¶éƒ¨](#-mysql-mcp-server-v310-å‘å¸ƒè¯´æ˜)

